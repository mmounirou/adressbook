#{extends 'connected-user.html' /} #{set title:'Home' /}
<div class="contacts">
#{form @Application.index()}
	<input type="search" id="filter" name="filter" value="${filter}" />
	<input type="submit" id="submit" value="Filter"/>
#{/form}
	<table>
		<thead>
			<tr>
				<th>Group</th>
				<th>First Name</th>
				<th>Name</th>
				<th>Mail</th>
				<th>Phone</th>
				<th class="th-add" />
			</tr>
		</thead>
		<tfoot>
			<tr>
				<td />
				<td id="paginate-td" colspan="4" >#{paginate.controls items:paginator /} </td>
				<td/>
			</tr>
		</tfoot>
		#{paginate.list items:paginator , as:'contact'}
		<tr>
			<td>${contact.cgroup}</td>
			<td>${contact.firstName}</td>
			<td>${contact.name}</td>
			<td>${contact.mail}</td>
			<td>${contact.phone}</td>
			<td>#{secure.check 'admin'} <a href="@{Application.edit(contact.id)}">></a> #{/secure.check}</td>
		</tr>
		<tr>

		#{/paginate.list }
		 #{secure.check 'admin'} 
		 #{form @Application.addContact()}
			<td class="input"><input id="cgroup" name="cgroup" type="text" /></td> 
			<td class="input"><input id="firstName" name="firstName" type="text" /></td>
			<td class="input"><input name="name" type="text" /></td>
			<td class="input"><input id="mail" name="mail" type="mail" /></td>
			<td class="input"><input id="phone" name="phone" type="tel" /></td>
			<td class="input"><input type="submit" value="+" /></td>
			 #{/form}
		 #{/secure.check}
		</tr>
	</table>

</div>
</div>